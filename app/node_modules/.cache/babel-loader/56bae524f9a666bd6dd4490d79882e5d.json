{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\alexi\\\\GitHub\\\\sidekick\\\\app\\\\src\\\\components\\\\Commande.jsx\";\nimport React from 'react';\nimport '../css/Style.css';\nimport axios from 'axios';\nimport NavBar from './rfc/NavBar'; // Composants Material-UI\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton'; // Dialog\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle'; // Material-UI Icons\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete'; // react-router-dom\n\nimport { Link } from 'react-router-dom';\n/**\r\n * @author Alex Lajeunesse\r\n * @class Commande\r\n * @description Gère la page de commande individuelle (affichage, requêtes à l'API, redirection et suppression)\r\n */\n\nexport default class Commande extends React.Component {\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @constructor de Commande\r\n   * @param {*} props Les propriétés React\r\n   */\n  constructor(props) {\n    super();\n    this.state = {\n      commande: [],\n      produits: [],\n      etats: [],\n      open: false,\n      read: false,\n      done: false\n    };\n    this.id = props.match.params.id; // handle boutons icône\n\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleDelete = this.handleDelete.bind(this); // handle popup\n\n    this.handleClickOpen = this.handleClickOpen.bind(this);\n    this.handleClickClose = this.handleClickClose.bind(this); // handle boutons de marquage\n\n    this.handleMarkAsRead = this.handleMarkAsRead.bind(this);\n    this.handleMarkAsDone = this.handleMarkAsDone.bind(this);\n  }\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @function componentDidMount\r\n   * @description Exécuté lorsque le composant est appelé\r\n   */\n\n\n  componentDidMount() {\n    this.getCommande();\n    this.getProduits();\n    this.getEtats();\n  } // Lorsque ses valeurs sont changées avec setState, un nouveau rendu est appelé\n\n\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @function handleDelete\r\n   * @description Gestion de l'icône de modification\r\n   * @param {*} event Évènement React\r\n   */\n  async handleDelete(event) {\n    event.preventDefault();\n\n    try {\n      const response = await axios.delete(`http://localhost:5000/api/commandes/${this.id}`); // Succès\n\n      console.log(response); // Fermeture du popup\n\n      this.setState({\n        open: false\n      }); // Redirection vers l'accueil\n\n      window.location.replace(\"/\"); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\r\n   * @description Ouverture du popup\r\n   * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n   */\n\n\n  handleClickOpen() {\n    this.setState({\n      open: true\n    });\n  }\n\n  /**\r\n   * @description Fermeture du popup\r\n   * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n   */\n  handleClickClose() {\n    this.setState({\n      open: false\n    });\n  }\n\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @function handleMarkAsRead\r\n   * @description Gestion du bouton \"Marquer comme lu\"\r\n   */\n  async handleMarkAsRead() {\n    // Ajouter un état \"Lue\" lié à la commande\n    try {\n      const response = await axios.post(`http://localhost:5000/api/etats/create/${this.id}`, {\n        texte: \"lue\"\n      }); // Succès\n\n      console.log(response);\n      window.location.replace(\"/\"); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @function handleMarkAsDone\r\n   * @description Gestion du bouton \"Marquer comme complétée\"\r\n   */\n\n\n  async handleMarkAsDone() {\n    // Ajouter un état \"Lue\" lié à la commande\n    try {\n      const response = await axios.post(`http://localhost:5000/api/etats/create/${this.id}`, {\n        texte: \"complétée\"\n      }); // Succès\n\n      console.log(response);\n      window.location.replace(\"/\"); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\r\n  * @author Alex Lajeunesse\r\n  * @function getCommande\r\n  * @description Effectue une requête à l'api pour retrouver la commande appropriée\r\n  */\n\n\n  async getCommande() {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/commandes/${this.id}`); // Succès\n\n      console.log(response); // La réponse de l'API est enregistré dans le state\n\n      this.setState({\n        commande: response.data\n      }); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\r\n  * @author Alex Lajeunesse\r\n  * @function getProduits\r\n  * @description Effectue une requête à l'api pour retrouver tous les produits de la commande\r\n  */\n\n\n  async getProduits() {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/produits/${this.id}`); // Succès\n\n      console.log(response); // La réponse de l'API est enregistré dans le state\n\n      this.setState({\n        produits: response.data\n      }); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\r\n  * @author Alex Lajeunesse\r\n  * @function getEtats\r\n  * @description Effectue une requête à l'api pour retrouver tous les états de la commande\r\n  */\n\n\n  async getEtats() {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/etats/${this.id}`); // Succès\n\n      console.log(response);\n      response.data.forEach(etat => {\n        // Désactiver \"Marquer comme lue\" si lue\n        if (etat.texte === \"lue\") {\n          this.setState({\n            read: true\n          });\n        } // Désactiver \"Marquer comme terminée\" si terminée\n\n\n        if (etat.texte === \"complétée\") {\n          this.setState({\n            done: true\n          });\n        }\n      }); // La réponse de l'API est enregistré dans le state\n\n      this.setState({\n        etats: response.data\n      }); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Dialog, {\n            open: this.state.open,\n            onClose: this.handleClickClose,\n            \"aria-labelledby\": \"alert-dialog-title\",\n            \"aria-describedby\": \"alert-dialog-description\",\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"alert-dialog-title\",\n              children: \"Supprimer la commande ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                id: \"alert-dialog-description\",\n                children: \"Souhaitez-vous vraiment supprimer la commande d\\xE9fintivement ? Ceci inclut tous les produits et les \\xE9tats associ\\xE9s.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.handleClickClose,\n                color: \"primary\",\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.handleDelete,\n                color: \"primary\",\n                autoFocus: true,\n                children: \"Oui\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"D\\xE9tails de la commande no. \", this.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: \"table\",\n            \"aria-label\": \"simple table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Entreprise\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"PO du client\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Vendeur\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Date de modification\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Date de cr\\xE9ation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: this.state.commande.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/commandes/edit/${row.id}`,\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      edge: \"start\",\n                      className: \"tab-icons\",\n                      color: \"inherit\",\n                      \"aria-label\": \"menu\",\n                      children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                    edge: \"start\",\n                    className: \"tab-icons\",\n                    color: \"inherit\",\n                    \"aria-label\": \"menu\",\n                    onClick: this.handleClickOpen,\n                    children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.entreprise || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.po || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.vendeur\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.date_modification || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.date_creation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 41\n                }, this)]\n              }, row.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), this.state.commande.map(row => row.commentaire ? /*#__PURE__*/_jsxDEV(Paper, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"comments-title\",\n            children: \"commentaire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comments-text\",\n            children: row.commentaire\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 29\n          }, this)]\n        }, row.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 43\n        }, this) : \"\"), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Produits\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: \"table\",\n            \"aria-label\": \"simple table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Quantit\\xE9 demand\\xE9e\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Quantit\\xE9 recueillie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"Prix\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: this.state.produits.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.qte_demandee\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.qte_recueillie || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.code || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.description || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: row.prix ? row.prix + \"$\" : \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 41\n                }, this)]\n              }, row.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Liste des \\xE9tats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: \"table\",\n            \"aria-label\": \"simple table\",\n            children: /*#__PURE__*/_jsxDEV(TableBody, {\n              children: this.state.etats.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: [row.texte, \" le \", row.date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this)\n              }, row.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          className: \"paper-button\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"form-button\",\n              disabled: this.state.read || this.state.done,\n              onClick: this.handleMarkAsRead,\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Marquer comme lue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 139\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"form-button\",\n              disabled: this.state.done,\n              onClick: this.handleMarkAsDone,\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Terminer la commande\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 120\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/alexi/GitHub/sidekick/app/src/components/Commande.jsx"],"names":["React","axios","NavBar","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","IconButton","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","EditIcon","DeleteIcon","Link","Commande","Component","constructor","props","state","commande","produits","etats","open","read","done","id","match","params","handleEdit","bind","handleDelete","handleClickOpen","handleClickClose","handleMarkAsRead","handleMarkAsDone","componentDidMount","getCommande","getProduits","getEtats","event","preventDefault","response","delete","console","log","setState","window","location","replace","error","post","texte","get","data","forEach","etat","render","map","row","entreprise","nom","po","vendeur","date_modification","date_creation","commentaire","qte_demandee","qte_recueillie","code","description","prix","date"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport '../css/Style.css';\r\nimport axios from 'axios';\r\nimport NavBar from './rfc/NavBar';\r\n// Composants Material-UI\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n// Dialog\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n// Material-UI Icons\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n// react-router-dom\r\nimport { Link } from 'react-router-dom';\r\n\r\n/**\r\n * @author Alex Lajeunesse\r\n * @class Commande\r\n * @description Gère la page de commande individuelle (affichage, requêtes à l'API, redirection et suppression)\r\n */\r\nexport default class Commande extends React.Component {\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @constructor de Commande\r\n     * @param {*} props Les propriétés React\r\n     */\r\n    constructor(props) {\r\n        super();\r\n        this.id = props.match.params.id;\r\n\r\n        // handle boutons icône\r\n        this.handleEdit = this.handleEdit.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n\r\n        // handle popup\r\n        this.handleClickOpen = this.handleClickOpen.bind(this);\r\n        this.handleClickClose = this.handleClickClose.bind(this);\r\n\r\n        // handle boutons de marquage\r\n        this.handleMarkAsRead = this.handleMarkAsRead.bind(this);\r\n        this.handleMarkAsDone = this.handleMarkAsDone.bind(this);\r\n    }\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @function componentDidMount\r\n     * @description Exécuté lorsque le composant est appelé\r\n     */\r\n    componentDidMount() {\r\n        this.getCommande();\r\n        this.getProduits();\r\n        this.getEtats();\r\n    }\r\n\r\n    // Lorsque ses valeurs sont changées avec setState, un nouveau rendu est appelé\r\n    state = {\r\n        commande: [],\r\n        produits: [],\r\n        etats: [],\r\n        open: false,\r\n        read: false,\r\n        done: false,\r\n    }\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @function handleDelete\r\n     * @description Gestion de l'icône de modification\r\n     * @param {*} event Évènement React\r\n     */\r\n    async handleDelete(event) {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.delete(`http://localhost:5000/api/commandes/${this.id}`);\r\n            // Succès\r\n            console.log(response);\r\n            // Fermeture du popup\r\n            this.setState({\r\n                open: false\r\n            });\r\n            // Redirection vers l'accueil\r\n            window.location.replace(\"/\");\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description Ouverture du popup\r\n     * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n     */\r\n    handleClickOpen() {\r\n        this.setState({\r\n            open: true\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @description Fermeture du popup\r\n     * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n     */\r\n    handleClickClose() {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @function handleMarkAsRead\r\n     * @description Gestion du bouton \"Marquer comme lu\"\r\n     */\r\n    async handleMarkAsRead() {\r\n        // Ajouter un état \"Lue\" lié à la commande\r\n        try {\r\n            const response = await axios.post(`http://localhost:5000/api/etats/create/${this.id}`, {\r\n                texte: \"lue\",\r\n            });\r\n            // Succès\r\n            console.log(response);\r\n            window.location.replace(\"/\");\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @function handleMarkAsDone\r\n     * @description Gestion du bouton \"Marquer comme complétée\"\r\n     */\r\n    async handleMarkAsDone() {\r\n        // Ajouter un état \"Lue\" lié à la commande\r\n        try {\r\n            const response = await axios.post(`http://localhost:5000/api/etats/create/${this.id}`, {\r\n                texte: \"complétée\",\r\n            });\r\n            // Succès\r\n            console.log(response);\r\n            window.location.replace(\"/\");\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * @author Alex Lajeunesse\r\n    * @function getCommande\r\n    * @description Effectue une requête à l'api pour retrouver la commande appropriée\r\n    */\r\n    async getCommande() {\r\n        try {\r\n            const response = await axios.get(`http://localhost:5000/api/commandes/${this.id}`);\r\n            // Succès\r\n            console.log(response);\r\n            // La réponse de l'API est enregistré dans le state\r\n            this.setState({\r\n                commande: response.data\r\n            });\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * @author Alex Lajeunesse\r\n    * @function getProduits\r\n    * @description Effectue une requête à l'api pour retrouver tous les produits de la commande\r\n    */\r\n    async getProduits() {\r\n        try {\r\n            const response = await axios.get(`http://localhost:5000/api/produits/${this.id}`);\r\n            // Succès\r\n            console.log(response);\r\n            // La réponse de l'API est enregistré dans le state\r\n            this.setState({\r\n                produits: response.data\r\n            });\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * @author Alex Lajeunesse\r\n    * @function getEtats\r\n    * @description Effectue une requête à l'api pour retrouver tous les états de la commande\r\n    */\r\n    async getEtats() {\r\n        try {\r\n            const response = await axios.get(`http://localhost:5000/api/etats/${this.id}`);\r\n            // Succès\r\n            console.log(response);\r\n            response.data.forEach(etat => {\r\n                // Désactiver \"Marquer comme lue\" si lue\r\n                if (etat.texte === \"lue\") {\r\n                    this.setState({\r\n                        read: true,\r\n                    });\r\n                }\r\n                // Désactiver \"Marquer comme terminée\" si terminée\r\n                if (etat.texte === \"complétée\") {\r\n                    this.setState({\r\n                        done: true,\r\n                    });\r\n                }\r\n            });\r\n            // La réponse de l'API est enregistré dans le state\r\n            this.setState({\r\n                etats: response.data\r\n            });\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/* En-tête avec NavBar */}\r\n                <header>\r\n                    <NavBar />\r\n                </header>\r\n                {/* Corps de la page */}\r\n                <div className=\"content\">\r\n                    {/* Popup de confirmation */}\r\n                    <div>\r\n                        <Dialog\r\n                            open={this.state.open}\r\n                            onClose={this.handleClickClose}\r\n                            aria-labelledby=\"alert-dialog-title\"\r\n                            aria-describedby=\"alert-dialog-description\">\r\n                            {/* Titre */}\r\n                            <DialogTitle id=\"alert-dialog-title\">{\"Supprimer la commande ?\"}</DialogTitle>\r\n                            {/* Corps */}\r\n                            <DialogContent>\r\n                                <DialogContentText id=\"alert-dialog-description\">\r\n                                    Souhaitez-vous vraiment supprimer la commande défintivement ? Ceci inclut tous les produits et les états associés.</DialogContentText>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button onClick={this.handleClickClose} color=\"primary\">Annuler</Button>\r\n                                <Button onClick={this.handleDelete} color=\"primary\" autoFocus>Oui</Button>\r\n                            </DialogActions>\r\n                        </Dialog>\r\n                    </div>\r\n                    <h1>Détails de la commande no. {this.id}</h1>\r\n                    {/* Tableau de l'en-tête de commande */}\r\n                    <TableContainer component={Paper}>\r\n                        <Table className=\"table\" aria-label=\"simple table\">\r\n                            {/* En-tête du tableau */}\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell align=\"center\"></TableCell>\r\n                                    <TableCell align=\"center\">Entreprise</TableCell>\r\n                                    <TableCell align=\"center\">Nom</TableCell>\r\n                                    <TableCell align=\"center\">PO du client</TableCell>\r\n                                    <TableCell align=\"center\">Vendeur</TableCell>\r\n                                    <TableCell align=\"center\">Date de modification</TableCell>\r\n                                    <TableCell align=\"center\">Date de création</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            {/* Corps du tableau (ligne) */}\r\n                            <TableBody>\r\n                                {this.state.commande.map((row) => (\r\n                                    <TableRow key={row.id}>\r\n                                        <TableCell align=\"center\">\r\n                                            <Link to={`/commandes/edit/${row.id}`}>\r\n                                                <IconButton edge=\"start\" className=\"tab-icons\" color=\"inherit\" aria-label=\"menu\">\r\n                                                    <EditIcon />\r\n                                                </IconButton>\r\n                                            </Link>\r\n                                            <IconButton edge=\"start\" className=\"tab-icons\" color=\"inherit\" aria-label=\"menu\" onClick={this.handleClickOpen}>\r\n                                                <DeleteIcon />\r\n                                            </IconButton>\r\n                                        </TableCell>\r\n                                        <TableCell align=\"center\">{row.entreprise || \"-\"}</TableCell>\r\n                                        <TableCell align=\"center\">{row.nom}</TableCell>\r\n                                        <TableCell align=\"center\">{row.po || \"-\"}</TableCell>\r\n                                        <TableCell align=\"center\">{row.vendeur}</TableCell>\r\n                                        <TableCell align=\"center\">{row.date_modification || \"-\"}</TableCell>\r\n                                        <TableCell align=\"center\">{row.date_creation}</TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    {/* Section commentaire */}\r\n                    {this.state.commande.map((row) => (\r\n                        row.commentaire ? <Paper key={row.id}>\r\n                            <h3 className=\"comments-title\">commentaire</h3>\r\n                            <div className=\"comments-text\">{row.commentaire}</div>\r\n                        </Paper> : \"\"\r\n                    ))}\r\n                    <h1>Produits</h1>\r\n                    {/* Tableau des produits de la commande */}\r\n                    <TableContainer component={Paper}>\r\n                        <Table className=\"table\" aria-label=\"simple table\">\r\n                            {/* En-tête du tableau */}\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell align=\"center\">Quantité demandée</TableCell>\r\n                                    <TableCell align=\"center\">Quantité recueillie</TableCell>\r\n                                    <TableCell align=\"center\"></TableCell>\r\n                                    <TableCell align=\"center\">Code</TableCell>\r\n                                    <TableCell align=\"center\">Description</TableCell>\r\n                                    <TableCell align=\"center\">Prix</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {/* Lignes de produits dans le tableau */}\r\n                                {this.state.produits.map((row) => (\r\n                                    <TableRow key={row.id}>\r\n                                        <TableCell align=\"center\">{row.qte_demandee}</TableCell>\r\n                                        <TableCell align=\"center\">{row.qte_recueillie || 0}</TableCell>\r\n                                        <TableCell align=\"center\"></TableCell>\r\n                                        <TableCell align=\"center\">{row.code || \"-\"}</TableCell>\r\n                                        <TableCell align=\"center\">{row.description || \"-\"}</TableCell>\r\n                                        <TableCell align=\"center\">{row.prix ? row.prix + \"$\" : \"-\"}</TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    <h1>Liste des états</h1>\r\n                    {/* Tableau des états de la commande */}\r\n                    <TableContainer component={Paper}>\r\n                        <Table className=\"table\" aria-label=\"simple table\">\r\n                            <TableBody>\r\n                                {/* Lignes du tableau */}\r\n                                {this.state.etats.map((row) => (\r\n                                    <TableRow key={row.id}>\r\n                                        <TableCell align=\"center\">{row.texte} le {row.date}</TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    {/* Section des boutons de marquage */}\r\n                    <Paper className=\"paper-button\">\r\n                        <div>\r\n                            <Button className=\"form-button\" disabled={this.state.read || this.state.done} onClick={this.handleMarkAsRead}><b>Marquer comme lue</b></Button>\r\n                            <Button className=\"form-button\" disabled={this.state.done} onClick={this.handleMarkAsDone}><b>Terminer la commande</b></Button>\r\n                        </div>\r\n                    </Paper>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}