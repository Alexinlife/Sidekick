{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\alexi\\\\GitHub\\\\sidekick\\\\app\\\\src\\\\components\\\\CreationCommande.jsx\";\nimport React from 'react';\nimport '../css/Style.css';\nimport axios from 'axios';\nimport NavBar from './rfc/NavBar';\nimport { Formik, Form, FieldArray, useField, Field } from 'formik';\nimport * as Yup from 'yup'; // Composants Material-UI\n\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport { MenuItem } from '@material-ui/core'; // Dialog\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n/**\r\n * @author Alex Lajeunesse\r\n * @class CreationCommande\r\n * @description Gère la page de création et de modification de commandes (affichage, requêtes à l'API, redirection et formulaires)\r\n */\n\nexport default class CreationCommande extends React.Component {\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @constructor de CreationCommande\r\n   * @param {*} props Les propriétés React\r\n   */\n  constructor(props) {\n    super();\n    this.state = {\n      open: false,\n      editing: false,\n      commande: [],\n      produits: []\n    };\n    this.id = props.match.params.id;\n    console.log(this.id); // handle popup\n\n    this.handleClickOpen = this.handleClickOpen.bind(this);\n    this.handleClickClose = this.handleClickClose.bind(this); // Localisation en français\n\n    Yup.setLocale({\n      mixed: {\n        // eslint-disable-next-line\n        default: 'Champ ${path} invalide',\n        // eslint-disable-next-line\n        required: 'Le champ ${path} est obligatoire'\n      },\n      string: {\n        // eslint-disable-next-line\n        max: 'Le champ ${path} doit contenir un maximum de ${max} caractères',\n        // eslint-disable-next-line\n        email: 'L\\'adresse courriel doit être valide'\n      },\n      number: {\n        // eslint-disable-next-line\n        integer: 'Le champ ${path} doit contenir un nombre entier',\n        // eslint-disable-next-line\n        positive: 'Le champ ${path} doit contenir un nombre positif',\n        // eslint-disable-next-line\n        min: 'Le champ ${path} doit avoir un nombre supérieur à ${min}',\n        // eslint-disable-next-line\n        max: 'Le champ ${path} doit avoir un nombre inférieur à ${max}'\n      }\n    });\n    /**\r\n     * @description Schéma de validation Yup\r\n     * @see https://krzysztofzuraw.com/blog/2020/yup-validation-two-fields pour test()\r\n     */\n\n    this.schema = Yup.object({\n      /* DÉBUT VALIDATION EN-TÊTE COMMANDE */\n      commande: Yup.object({\n        entreprise: Yup.string().max(64).test('ouInclusifEntrNom', // test name\n        'Au moins l\\'un des champs entreprise et nom doit être rempli', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (entreprise) {\n          const {\n            nom\n          } = this.parent;\n\n          if (entreprise || nom) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }).test('ouInclusifEntrTelCourriel', // test name\n        'Le client n\\'a présentement aucune information de contact', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (entreprise) {\n          const {\n            telephone,\n            courriel\n          } = this.parent;\n\n          if (entreprise || telephone || courriel) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }),\n        nom: Yup.string().max(64).test('ouInclusifEntrNom', // test name\n        'Au moins l\\'un des champs entreprise et nom doit être rempli', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (nom) {\n          const {\n            entreprise\n          } = this.parent;\n\n          if (entreprise || nom) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }),\n        no_compte: Yup.number().max(169999999) // eslint-disable-next-line\n        .typeError('Le champs ${path} doit contenir un nombre'),\n        telephone: Yup.string().max(32).test('ouInclusifEntrTelCourriel', // test name\n        'Le client n\\'a présentement aucune information de contact', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (telephone) {\n          const {\n            entreprise,\n            courriel\n          } = this.parent;\n\n          if (entreprise || telephone || courriel) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }),\n        courriel: Yup.string().email().max(255).test('ouInclusifEntrTelCourriel', // test name\n        'Le client n\\'a présentement aucune information de contact', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (courriel) {\n          const {\n            entreprise,\n            telephone\n          } = this.parent;\n\n          if (entreprise || telephone || courriel) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }),\n        po_client: Yup.string().max(64),\n        vendeur: Yup.string().max(4).required(),\n        commentaire: Yup.string().max(512),\n        attention: Yup.string().email().max(255).required()\n      }),\n\n      /* FIN VALIDATION EN-TÊTE COMMANDE */\n      // Validation pour chaque produit\n      produits: Yup.array().of(Yup.object({\n        code: Yup.string().max(32).test('ouInclusifCodeDesc', // test name\n        'Au moins l\\'un des champs code et description doit être rempli', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (code) {\n          const {\n            description\n          } = this.parent;\n\n          if (code || description) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }),\n        description: Yup.string().max(255).test('ouInclusifCodeDesc', // test name\n        'Au moins l\\'un des champs code et description doit être rempli', // validation message to the user\n        // it has to be function definition to use 'this'\n        function (description) {\n          const {\n            code\n          } = this.parent;\n\n          if (code || description) {\n            return true; // lorsqu'il y a au moins un champs de rempli\n          }\n\n          return false;\n        }),\n        qte_demandee: Yup.number().integer().min(1).required() // eslint-disable-next-line\n        .typeError('Le champs ${path} doit contenir un nombre'),\n        prix: Yup.number().min(0.0050).positive() // eslint-disable-next-line\n        .typeError('Le champs ${path} doit contenir un nombre')\n      }))\n    });\n  }\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @function componentDidMount\r\n   * @description Exécuté lorsque le composant est appelé\r\n   */\n\n\n  componentDidMount() {\n    this.getCommande();\n    this.getProduits();\n  }\n  /**\r\n  * @author Alex Lajeunesse\r\n  * @function getCommande\r\n  * @description Effectue une requête à l'api pour retrouver la commande appropriée\r\n  */\n\n\n  async getCommande() {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/commandes/${this.id}`); // Succès\n\n      console.log(response); // La réponse de l'API est enregistré dans le state\n\n      this.setState({\n        commande: response.data\n      }); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  /**\r\n  * @author Alex Lajeunesse\r\n  * @function getProduits\r\n  * @description Effectue une requête à l'api pour retrouver tous les produits de la commande\r\n  */\n\n\n  async getProduits() {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/produits/${this.id}`); // Succès\n\n      console.log(response); // La réponse de l'API est enregistré dans le state\n\n      this.setState({\n        produits: response.data,\n        editing: true\n      }); // Erreur\n    } catch (error) {\n      console.error(error);\n    }\n  } // Lorsque ses valeurs sont changées avec setState, un nouveau rendu est appelé\n\n\n  /**\r\n   * @description Ouverture du popup\r\n   * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n   */\n  handleClickOpen() {\n    this.setState({\n      open: true\n    });\n  }\n\n  /**\r\n   * @description Fermeture du popup\r\n   * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n   */\n  handleClickClose() {\n    this.setState({\n      open: false\n    }); // Redirection vers l'accueil\n\n    window.location.replace(\"/\");\n  }\n\n  /**\r\n   * @author Alex Lajeunesse\r\n   * @function render\r\n   * @description Affiche l'interface de la page et prépare le formulaire.\r\n   * @see https://www.youtube.com/watch?v=FD50LPJ6bjE pour Formik et TextField\r\n   * @see https://formik.org/docs/examples/field-arrays pour les produits\r\n   */\n  render() {\n    var _s = $RefreshSig$(),\n        _s2 = $RefreshSig$();\n\n    // Champs de l'en-tête de la commande\n    const OrderTextField = ({\n      placeholder,\n      ...props\n    }) => {\n      _s();\n\n      const [field, meta] = useField(props); // Erreur si un champ a été touché et que la validation a échoué\n\n      const error = meta.error && meta.touched ? meta.error : ''; // Format de base pour OrderTextField\n\n      return /*#__PURE__*/_jsxDEV(TextField, {\n        className: \"order-form-item\",\n        placeholder: placeholder,\n        ...field,\n        helperText: error,\n        error: !!error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }, this);\n    }; // Champs des produits de la commande\n\n\n    _s(OrderTextField, \"ImX69+3rRx1BE5Ru6eNKPZVOEn4=\", false, function () {\n      return [useField];\n    });\n\n    const ProductTextField = ({\n      placeholder,\n      ...props\n    }) => {\n      _s2();\n\n      const [field, meta] = useField(props); // Erreur si un champ a été touché et que la validation a échoué\n\n      const error = meta.error && meta.touched ? meta.error : ''; // Format de base pour OrderTextField\n\n      return /*#__PURE__*/_jsxDEV(TextField, {\n        className: \"product-form-item\",\n        placeholder: placeholder,\n        ...field,\n        helperText: error,\n        error: !!error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }, this);\n    }; // Valeurs initiales du formulaire\n\n\n    _s2(ProductTextField, \"ImX69+3rRx1BE5Ru6eNKPZVOEn4=\", false, function () {\n      return [useField];\n    });\n\n    var initialValues = undefined;\n\n    if (this.state.editing) {\n      initialValues = {\n        commande: this.state.commande[0],\n        produits: this.state.produits\n      };\n      console.log(\"initialValues :\");\n      console.log(initialValues);\n      console.log(\"Mode édition\");\n    } else {\n      // Les valeurs initiales lors de la création d'une commande\n      initialValues = {\n        // En-tête\n        commande: {\n          entreprise: '',\n          nom: '',\n          no_compte: undefined,\n          telephone: '',\n          courriel: '',\n          po_client: '',\n          vendeur: '',\n          commentaire: '',\n          attention: ''\n        },\n        // Produits\n        produits: [{\n          code: '',\n          descrption: '',\n          qte_demandee: '',\n          prix: undefined\n        }]\n      };\n      console.log(\"initialValues :\");\n      console.log(initialValues);\n      console.log(\"Mode création\");\n    } // Affichage de l'interface\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Dialog, {\n            open: this.state.open,\n            onClose: this.handleClickClose,\n            \"aria-labelledby\": \"alert-dialog-title\",\n            \"aria-describedby\": \"alert-dialog-description\",\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"alert-dialog-title\",\n              children: \"Commande créée avec succès !\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                id: \"alert-dialog-description\",\n                children: \"La commande a \\xE9t\\xE9 cr\\xE9\\xE9e avec succ\\xE8s ! Un courriel a \\xE9t\\xE9 envoy\\xE9 \\xE0 la personne mentionn\\xE9e.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.handleClickClose,\n                color: \"primary\",\n                children: \"Ok\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Cr\\xE9er une commande\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          validateOnChange: true,\n          initialValues: initialValues,\n          onSubmit: async (data, {\n            setSubmitting,\n            resetForm\n          }) => {\n            // Désactive le bouton \"Enregistrer\"\n            setSubmitting(true);\n            console.log(data);\n\n            try {\n              // Enregistrement de la commande\n              const orderResponse = await axios.post('http://localhost:5000/api/commandes/create', {\n                entreprise: data.commande.entreprise,\n                nom: data.commande.nom,\n                no_compte: data.commande.no_compte,\n                telephone: data.commande.telephone,\n                courriel: data.commande.courriel,\n                po_client: data.commande.po_client,\n                vendeur: data.commande.vendeur,\n                commentaire: data.commande.commentaire,\n                attention: data.commande.attention\n              });\n              console.log(orderResponse); // Préparation de l'URL d'envoi avec l'id de la commande\n\n              const productURL = 'http://localhost:5000/api/produits/create/' + orderResponse.data[0][0].id;\n              var productResponse = []; // Ajout de chaque produit à la commande via une requête POST\n\n              for (let p = 0; p < data.produits.length; p++) {\n                productResponse[p] = await axios.post(productURL.toString(), {\n                  code: data.produits[p].code,\n                  description: data.produits[p].description,\n                  qte_demandee: data.produits[p].qte_demandee,\n                  prix: data.produits[p].prix\n                });\n              } // Succès\n\n\n              console.log(productResponse); // Ouvre le popup d'information\n\n              this.handleClickOpen(); // Erreur\n            } catch (error) {\n              console.log(error);\n            } // Réactive le bouton \"Enregistrer\"\n\n\n            setSubmitting(false);\n          } // Schéma de validation utilisé\n          ,\n          validationSchema: this.schema,\n          children: ({\n            values,\n            isSubmitting,\n            handleChange,\n            handleBlur,\n            handleSubmit\n          }) => /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Paper, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"Nom d'entreprise\",\n                  name: \"commande.entreprise\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"Num\\xE9ro de compte\",\n                  name: \"commande.no_compte\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"Nom du client\",\n                  name: \"commande.nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"T\\xE9l\\xE9phone\",\n                  name: \"commande.telephone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"Courriel\",\n                  name: \"commande.courriel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"PO du client\",\n                  name: \"commande.po_client\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"*Vendeur\",\n                  name: \"commande.vendeur\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(OrderTextField, {\n                  placeholder: \"Commentaire\",\n                  name: \"commande.commentaire\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  className: \"order-form-item\",\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    htmlFor: \"attention\",\n                    children: \"*Attention\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"select\",\n                    as: Select,\n                    name: \"commande.attention\",\n                    children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: 'alexinlife.exe@gmail.com',\n                      children: \"Alex Lajeunesse\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Produits\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Paper, {\n              children: /*#__PURE__*/_jsxDEV(FieldArray, {\n                name: \"produits\",\n                children: ({\n                  insert,\n                  remove,\n                  push\n                }) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [values.produits.length > 0 && values.produits.map((produit, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: [/*#__PURE__*/_jsxDEV(ProductTextField, {\n                        name: `produits.${index}.qte_demandee`,\n                        placeholder: \"*Quantit\\xE9 demand\\xE9e\",\n                        type: \"text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(ProductTextField, {\n                        name: `produits.${index}.code`,\n                        placeholder: \"Code\",\n                        type: \"text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 536,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(ProductTextField, {\n                        name: `produits.${index}.description`,\n                        placeholder: \"Description\",\n                        type: \"text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 541,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(ProductTextField, {\n                        name: `produits.${index}.prix`,\n                        placeholder: \"Prix\",\n                        type: \"text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 546,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"form-delete-button\",\n                        disabled: isSubmitting,\n                        onClick: () => remove(index),\n                        children: /*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"X\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 552,\n                          columnNumber: 158\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 552,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 530,\n                      columnNumber: 61\n                    }, this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 57\n                  }, this)), /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"form-button\",\n                    disabled: isSubmitting,\n                    onClick: () => push({\n                      code: '',\n                      descrption: '',\n                      qte_demandee: '',\n                      prix: undefined\n                    }),\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Ajouter un produit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 50\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Paper, {\n              className: \"paper-button\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"form-button\",\n                  disabled: isSubmitting,\n                  type: \"submit\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Enregistrer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 111\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/alexi/GitHub/sidekick/app/src/components/CreationCommande.jsx"],"names":["React","axios","NavBar","Formik","Form","FieldArray","useField","Field","Yup","Paper","TextField","FormControl","InputLabel","Select","Button","MenuItem","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","CreationCommande","Component","constructor","props","state","open","editing","commande","produits","id","match","params","console","log","handleClickOpen","bind","handleClickClose","setLocale","mixed","default","required","string","max","email","number","integer","positive","min","schema","object","entreprise","test","nom","parent","telephone","courriel","no_compte","typeError","po_client","vendeur","commentaire","attention","array","of","code","description","qte_demandee","prix","componentDidMount","getCommande","getProduits","response","get","setState","data","error","window","location","replace","render","OrderTextField","placeholder","field","meta","touched","ProductTextField","initialValues","undefined","descrption","setSubmitting","resetForm","orderResponse","post","productURL","productResponse","p","length","toString","values","isSubmitting","handleChange","handleBlur","handleSubmit","insert","remove","push","map","produit","index"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport '../css/Style.css';\r\nimport axios from 'axios';\r\nimport NavBar from './rfc/NavBar';\r\nimport { Formik, Form, FieldArray, useField, Field } from 'formik';\r\nimport * as Yup from 'yup';\r\n// Composants Material-UI\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport Button from '@material-ui/core/Button';\r\nimport { MenuItem } from '@material-ui/core';\r\n// Dialog\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n/**\r\n * @author Alex Lajeunesse\r\n * @class CreationCommande\r\n * @description Gère la page de création et de modification de commandes (affichage, requêtes à l'API, redirection et formulaires)\r\n */\r\nexport default class CreationCommande extends React.Component {\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @constructor de CreationCommande\r\n     * @param {*} props Les propriétés React\r\n     */\r\n    constructor(props) {\r\n        super();\r\n        this.id = props.match.params.id;\r\n        console.log(this.id);\r\n\r\n        // handle popup\r\n        this.handleClickOpen = this.handleClickOpen.bind(this);\r\n        this.handleClickClose = this.handleClickClose.bind(this);\r\n\r\n        // Localisation en français\r\n        Yup.setLocale({\r\n            mixed: {\r\n                // eslint-disable-next-line\r\n                default: 'Champ ${path} invalide',\r\n                // eslint-disable-next-line\r\n                required: 'Le champ ${path} est obligatoire',\r\n            },\r\n            string: {\r\n                // eslint-disable-next-line\r\n                max: 'Le champ ${path} doit contenir un maximum de ${max} caractères',\r\n                // eslint-disable-next-line\r\n                email: 'L\\'adresse courriel doit être valide',\r\n            },\r\n            number: {\r\n                // eslint-disable-next-line\r\n                integer: 'Le champ ${path} doit contenir un nombre entier',\r\n                // eslint-disable-next-line\r\n                positive: 'Le champ ${path} doit contenir un nombre positif',\r\n                // eslint-disable-next-line\r\n                min: 'Le champ ${path} doit avoir un nombre supérieur à ${min}',\r\n                // eslint-disable-next-line\r\n                max: 'Le champ ${path} doit avoir un nombre inférieur à ${max}',\r\n            },\r\n        });\r\n\r\n        /**\r\n         * @description Schéma de validation Yup\r\n         * @see https://krzysztofzuraw.com/blog/2020/yup-validation-two-fields pour test()\r\n         */\r\n        this.schema = Yup.object({\r\n            /* DÉBUT VALIDATION EN-TÊTE COMMANDE */\r\n            commande: Yup.object({\r\n                entreprise: Yup.string()\r\n                    .max(64)\r\n                    .test(\r\n                        'ouInclusifEntrNom', // test name\r\n                        'Au moins l\\'un des champs entreprise et nom doit être rempli', // validation message to the user\r\n                        // it has to be function definition to use 'this'\r\n                        function (entreprise) {\r\n                            const { nom } = this.parent;\r\n                            if (entreprise || nom) {\r\n                                return true; // lorsqu'il y a au moins un champs de rempli\r\n                            }\r\n                            return false;\r\n                        }\r\n                    )\r\n                    .test(\r\n                        'ouInclusifEntrTelCourriel', // test name\r\n                        'Le client n\\'a présentement aucune information de contact', // validation message to the user\r\n                        // it has to be function definition to use 'this'\r\n                        function (entreprise) {\r\n                            const { telephone, courriel } = this.parent;\r\n                            if (entreprise || telephone || courriel) {\r\n                                return true; // lorsqu'il y a au moins un champs de rempli\r\n                            }\r\n                            return false;\r\n                        }\r\n                    ),\r\n\r\n                nom: Yup.string()\r\n                    .max(64)\r\n                    .test(\r\n                        'ouInclusifEntrNom', // test name\r\n                        'Au moins l\\'un des champs entreprise et nom doit être rempli', // validation message to the user\r\n                        // it has to be function definition to use 'this'\r\n                        function (nom) {\r\n                            const { entreprise } = this.parent;\r\n                            if (entreprise || nom) {\r\n                                return true; // lorsqu'il y a au moins un champs de rempli\r\n                            }\r\n                            return false;\r\n                        }\r\n                    ),\r\n\r\n                no_compte: Yup.number()\r\n                    .max(169999999)\r\n                    // eslint-disable-next-line\r\n                    .typeError('Le champs ${path} doit contenir un nombre'),\r\n\r\n                telephone: Yup.string()\r\n                    .max(32)\r\n                    .test(\r\n                        'ouInclusifEntrTelCourriel', // test name\r\n                        'Le client n\\'a présentement aucune information de contact', // validation message to the user\r\n                        // it has to be function definition to use 'this'\r\n                        function (telephone) {\r\n                            const { entreprise, courriel } = this.parent;\r\n                            if (entreprise || telephone || courriel) {\r\n                                return true; // lorsqu'il y a au moins un champs de rempli\r\n                            }\r\n                            return false;\r\n                        }\r\n                    ),\r\n\r\n                courriel: Yup.string()\r\n                    .email()\r\n                    .max(255)\r\n                    .test(\r\n                        'ouInclusifEntrTelCourriel', // test name\r\n                        'Le client n\\'a présentement aucune information de contact', // validation message to the user\r\n                        // it has to be function definition to use 'this'\r\n                        function (courriel) {\r\n                            const { entreprise, telephone } = this.parent;\r\n                            if (entreprise || telephone || courriel) {\r\n                                return true; // lorsqu'il y a au moins un champs de rempli\r\n                            }\r\n                            return false;\r\n                        }\r\n                    ),\r\n\r\n                po_client: Yup.string()\r\n                    .max(64),\r\n\r\n                vendeur: Yup.string()\r\n                    .max(4)\r\n                    .required(),\r\n\r\n                commentaire: Yup.string()\r\n                    .max(512),\r\n\r\n                attention: Yup.string()\r\n                    .email()\r\n                    .max(255)\r\n                    .required(),\r\n            }),\r\n            /* FIN VALIDATION EN-TÊTE COMMANDE */\r\n\r\n            // Validation pour chaque produit\r\n            produits: Yup.array().of(\r\n                Yup.object({\r\n                    code: Yup.string()\r\n                        .max(32)\r\n                        .test(\r\n                            'ouInclusifCodeDesc', // test name\r\n                            'Au moins l\\'un des champs code et description doit être rempli', // validation message to the user\r\n                            // it has to be function definition to use 'this'\r\n                            function (code) {\r\n                                const { description } = this.parent;\r\n                                if (code || description) {\r\n                                    return true; // lorsqu'il y a au moins un champs de rempli\r\n                                }\r\n                                return false;\r\n                            }\r\n                        ),\r\n\r\n                    description: Yup.string()\r\n                        .max(255)\r\n                        .test(\r\n                            'ouInclusifCodeDesc', // test name\r\n                            'Au moins l\\'un des champs code et description doit être rempli', // validation message to the user\r\n                            // it has to be function definition to use 'this'\r\n                            function (description) {\r\n                                const { code } = this.parent;\r\n                                if (code || description) {\r\n                                    return true; // lorsqu'il y a au moins un champs de rempli\r\n                                }\r\n                                return false;\r\n                            }\r\n                        ),\r\n\r\n                    qte_demandee: Yup.number()\r\n                        .integer()\r\n                        .min(1)\r\n                        .required()\r\n                        // eslint-disable-next-line\r\n                        .typeError('Le champs ${path} doit contenir un nombre'),\r\n\r\n                    prix: Yup.number()\r\n                        .min(0.0050)\r\n                        .positive()\r\n                        // eslint-disable-next-line\r\n                        .typeError('Le champs ${path} doit contenir un nombre'),\r\n                })\r\n            )\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @function componentDidMount\r\n     * @description Exécuté lorsque le composant est appelé\r\n     */\r\n    componentDidMount() {\r\n        this.getCommande();\r\n        this.getProduits();\r\n    }\r\n\r\n    /**\r\n    * @author Alex Lajeunesse\r\n    * @function getCommande\r\n    * @description Effectue une requête à l'api pour retrouver la commande appropriée\r\n    */\r\n    async getCommande() {\r\n        try {\r\n            const response = await axios.get(`http://localhost:5000/api/commandes/${this.id}`);\r\n            // Succès\r\n            console.log(response);\r\n            // La réponse de l'API est enregistré dans le state\r\n            this.setState({\r\n                commande: response.data\r\n            });\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * @author Alex Lajeunesse\r\n    * @function getProduits\r\n    * @description Effectue une requête à l'api pour retrouver tous les produits de la commande\r\n    */\r\n    async getProduits() {\r\n        try {\r\n            const response = await axios.get(`http://localhost:5000/api/produits/${this.id}`);\r\n            // Succès\r\n            console.log(response);\r\n            // La réponse de l'API est enregistré dans le state\r\n            this.setState({\r\n                produits: response.data,\r\n                editing: true,\r\n            });\r\n            // Erreur\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    // Lorsque ses valeurs sont changées avec setState, un nouveau rendu est appelé\r\n    state = {\r\n        open: false,\r\n        editing: false,\r\n        commande: [],\r\n        produits: [],\r\n    }\r\n\r\n    /**\r\n     * @description Ouverture du popup\r\n     * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n     */\r\n    handleClickOpen() {\r\n        this.setState({\r\n            open: true\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @description Fermeture du popup\r\n     * @see https://material-ui.com/components/dialogs/#confirmation-dialogs\r\n     */\r\n    handleClickClose() {\r\n        this.setState({\r\n            open: false\r\n        });\r\n        // Redirection vers l'accueil\r\n        window.location.replace(\"/\");\r\n    };\r\n\r\n    /**\r\n     * @author Alex Lajeunesse\r\n     * @function render\r\n     * @description Affiche l'interface de la page et prépare le formulaire.\r\n     * @see https://www.youtube.com/watch?v=FD50LPJ6bjE pour Formik et TextField\r\n     * @see https://formik.org/docs/examples/field-arrays pour les produits\r\n     */\r\n    render() {\r\n        // Champs de l'en-tête de la commande\r\n        const OrderTextField = ({ placeholder, ...props }) => {\r\n            const [field, meta] = useField(props);\r\n            // Erreur si un champ a été touché et que la validation a échoué\r\n            const error = meta.error && meta.touched ? meta.error : '';\r\n            // Format de base pour OrderTextField\r\n            return (\r\n                <TextField\r\n                    className=\"order-form-item\"\r\n                    placeholder={placeholder}\r\n                    {...field}\r\n                    helperText={error}\r\n                    error={!!error}\r\n                />\r\n            );\r\n        }\r\n        // Champs des produits de la commande\r\n        const ProductTextField = ({ placeholder, ...props }) => {\r\n            const [field, meta] = useField(props);\r\n            // Erreur si un champ a été touché et que la validation a échoué\r\n            const error = meta.error && meta.touched ? meta.error : '';\r\n            // Format de base pour OrderTextField\r\n            return (\r\n                <TextField\r\n                    className=\"product-form-item\"\r\n                    placeholder={placeholder}\r\n                    {...field}\r\n                    helperText={error}\r\n                    error={!!error}\r\n                />\r\n            );\r\n        }\r\n\r\n        // Valeurs initiales du formulaire\r\n        var initialValues = undefined;\r\n\r\n        if (this.state.editing) {\r\n            initialValues = {\r\n                commande: this.state.commande[0],\r\n                produits: this.state.produits\r\n            }\r\n            console.log(\"initialValues :\");\r\n            console.log(initialValues);\r\n            console.log(\"Mode édition\");\r\n        } else {\r\n            // Les valeurs initiales lors de la création d'une commande\r\n            initialValues = {\r\n                // En-tête\r\n                commande: {\r\n                    entreprise: '',\r\n                    nom: '',\r\n                    no_compte: undefined,\r\n                    telephone: '',\r\n                    courriel: '',\r\n                    po_client: '',\r\n                    vendeur: '',\r\n                    commentaire: '',\r\n                    attention: '',\r\n                },\r\n                // Produits\r\n                produits: [\r\n                    {\r\n                        code: '',\r\n                        descrption: '',\r\n                        qte_demandee: '',\r\n                        prix: undefined,\r\n                    },\r\n                ],\r\n            };\r\n            console.log(\"initialValues :\");\r\n            console.log(initialValues);\r\n            console.log(\"Mode création\");\r\n        }\r\n\r\n        // Affichage de l'interface\r\n        return (\r\n            <div>\r\n                {/* En-tête avec NavBar */}\r\n                <header>\r\n                    <NavBar />\r\n                </header>\r\n                {/* Corps de la page */}\r\n                <div className=\"content\">\r\n                    {/* Popup de confirmation */}\r\n                    <div>\r\n                        <Dialog\r\n                            open={this.state.open}\r\n                            onClose={this.handleClickClose}\r\n                            aria-labelledby=\"alert-dialog-title\"\r\n                            aria-describedby=\"alert-dialog-description\">\r\n                            {/* Titre */}\r\n                            <DialogTitle id=\"alert-dialog-title\">{\"Commande créée avec succès !\"}</DialogTitle>\r\n                            {/* Corps */}\r\n                            <DialogContent>\r\n                                <DialogContentText id=\"alert-dialog-description\">\r\n                                    La commande a été créée avec succès ! Un courriel a été envoyé à la personne mentionnée.</DialogContentText>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button onClick={this.handleClickClose} color=\"primary\">Ok</Button>\r\n                            </DialogActions>\r\n                        </Dialog>\r\n                    </div>\r\n                    <h1>Créer une commande</h1>\r\n                    {/* Formulaire de création (en-tête) */}\r\n                    <Formik\r\n                        validateOnChange\r\n                        initialValues={initialValues}\r\n                        onSubmit={async (data, { setSubmitting, resetForm }) => {\r\n                            // Désactive le bouton \"Enregistrer\"\r\n                            setSubmitting(true);\r\n                            console.log(data);\r\n                            try {\r\n                                // Enregistrement de la commande\r\n                                const orderResponse = await axios.post('http://localhost:5000/api/commandes/create', {\r\n                                    entreprise: data.commande.entreprise,\r\n                                    nom: data.commande.nom,\r\n                                    no_compte: data.commande.no_compte,\r\n                                    telephone: data.commande.telephone,\r\n                                    courriel: data.commande.courriel,\r\n                                    po_client: data.commande.po_client,\r\n                                    vendeur: data.commande.vendeur,\r\n                                    commentaire: data.commande.commentaire,\r\n                                    attention: data.commande.attention,\r\n                                });\r\n                                console.log(orderResponse);\r\n                                // Préparation de l'URL d'envoi avec l'id de la commande\r\n                                const productURL = 'http://localhost:5000/api/produits/create/' + orderResponse.data[0][0].id\r\n                                var productResponse = [];\r\n                                // Ajout de chaque produit à la commande via une requête POST\r\n                                for (let p = 0; p < data.produits.length; p++) {\r\n                                    productResponse[p] = await axios.post(productURL.toString(), {\r\n                                        code: data.produits[p].code,\r\n                                        description: data.produits[p].description,\r\n                                        qte_demandee: data.produits[p].qte_demandee,\r\n                                        prix: data.produits[p].prix,\r\n                                    });\r\n                                }\r\n                                // Succès\r\n                                console.log(productResponse);\r\n                                // Ouvre le popup d'information\r\n                                this.handleClickOpen();\r\n                                // Erreur\r\n                            } catch (error) {\r\n                                console.log(error);\r\n                            }\r\n                            // Réactive le bouton \"Enregistrer\"\r\n                            setSubmitting(false);\r\n                        }}\r\n                        // Schéma de validation utilisé\r\n                        validationSchema={this.schema}\r\n                    >\r\n                        {/* Formulaire de création (interface) */}\r\n                        {({ values, isSubmitting, handleChange, handleBlur, handleSubmit }) => (\r\n                            <Form>\r\n                                {/* En-tête de la commande */}\r\n                                <Paper>\r\n                                    {/* Première ligne */}\r\n                                    <div>\r\n                                        <OrderTextField\r\n                                            placeholder=\"Nom d'entreprise\"\r\n                                            name=\"commande.entreprise\"\r\n                                        />\r\n                                        <OrderTextField\r\n                                            placeholder=\"Numéro de compte\"\r\n                                            name=\"commande.no_compte\"\r\n                                        />\r\n                                        <OrderTextField\r\n                                            placeholder=\"Nom du client\"\r\n                                            name=\"commande.nom\"\r\n                                        />\r\n                                    </div>\r\n                                    {/* Deuxième ligne */}\r\n                                    <div>\r\n                                        <OrderTextField\r\n                                            placeholder=\"Téléphone\"\r\n                                            name=\"commande.telephone\"\r\n                                        />\r\n                                        <OrderTextField\r\n                                            placeholder=\"Courriel\"\r\n                                            name=\"commande.courriel\"\r\n                                        />\r\n                                        <OrderTextField\r\n                                            placeholder=\"PO du client\"\r\n                                            name=\"commande.po_client\"\r\n                                        />\r\n                                    </div>\r\n                                    {/* Troisième ligne */}\r\n                                    <div>\r\n                                        <OrderTextField\r\n                                            placeholder=\"*Vendeur\"\r\n                                            name=\"commande.vendeur\"\r\n                                        />\r\n                                        <OrderTextField\r\n                                            placeholder=\"Commentaire\"\r\n                                            name=\"commande.commentaire\"\r\n                                        />\r\n                                    </div>\r\n                                    {/* Quatrième ligne */}\r\n                                    <div>\r\n                                        <FormControl className=\"order-form-item\">\r\n                                            <InputLabel htmlFor=\"attention\">*Attention</InputLabel>\r\n                                            <Field\r\n                                                type=\"select\"\r\n                                                as={Select}\r\n                                                name=\"commande.attention\"\r\n                                            >\r\n                                                <MenuItem value={'alexinlife.exe@gmail.com'}>Alex Lajeunesse</MenuItem>\r\n                                            </Field>\r\n                                        </FormControl>\r\n                                    </div>\r\n                                </Paper>\r\n                                <h1>Produits</h1>\r\n                                {/* Produits de la commande */}\r\n                                <Paper>\r\n                                    <FieldArray name=\"produits\">\r\n                                        {({ insert, remove, push }) => (\r\n                                            <div>\r\n                                                {values.produits.length > 0 &&\r\n                                                    values.produits.map((produit, index) => (\r\n                                                        <div className=\"row\" key={index}>\r\n                                                            <div className=\"col\">\r\n                                                                <ProductTextField\r\n                                                                    name={`produits.${index}.qte_demandee`}\r\n                                                                    placeholder=\"*Quantité demandée\"\r\n                                                                    type=\"text\"\r\n                                                                />\r\n                                                                <ProductTextField\r\n                                                                    name={`produits.${index}.code`}\r\n                                                                    placeholder=\"Code\"\r\n                                                                    type=\"text\"\r\n                                                                />\r\n                                                                <ProductTextField\r\n                                                                    name={`produits.${index}.description`}\r\n                                                                    placeholder=\"Description\"\r\n                                                                    type=\"text\"\r\n                                                                />\r\n                                                                <ProductTextField\r\n                                                                    name={`produits.${index}.prix`}\r\n                                                                    placeholder=\"Prix\"\r\n                                                                    type=\"text\"\r\n                                                                />\r\n                                                                {/* Bouton de suppression de ligne */}\r\n                                                                <Button className=\"form-delete-button\" disabled={isSubmitting} onClick={() => remove(index)}><b>X</b></Button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    ))}\r\n                                                {/* Bouton d'ajout de ligne */}\r\n                                                <Button className=\"form-button\" disabled={isSubmitting}\r\n                                                    onClick={() => push({ code: '', descrption: '', qte_demandee: '', prix: undefined })}\r\n                                                ><b>Ajouter un produit</b></Button>\r\n                                            </div>\r\n                                        )}\r\n                                    </FieldArray>\r\n                                </Paper>\r\n                                {/* Section du bouton de sauvegarde */}\r\n                                <Paper className=\"paper-button\">\r\n                                    <div>\r\n                                        <Button className=\"form-button\" disabled={isSubmitting} type=\"submit\"><b>Enregistrer</b></Button>\r\n                                    </div>\r\n                                </Paper>\r\n                            </Form>\r\n                        )}\r\n                    </Formik>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}